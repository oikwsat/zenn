---
title: "テスト戦略モデル"
---

各種テストはいくつかの層に分類して考えることができる。
![](/images/frontend-test-summary/relationship-between-test-coverage-and-cost.png)

- 上層のテストは忠実性の高いテスト（本物に近いテスト）になる
- 上層のテストは実行するにあたり本物に近いテスト環境を揃える必要がある
  - テスト用に用意した DB サーバーを起動してセットアップするなど
- テストに必要なコストは開発に与える影響が大きく、開発者間で十分に検討する必要がある
- **コスト配分をどのように設計して最適化を行うか**が、テスト戦略最大の検討事項となる

## アイスクリームコーン型

![](/images/frontend-test-summary/ice-cream-cone.png)

- 上層のテストが多いモデル
- 戦略モデルのアンチパターン
- 運用コストが高く、稀に失敗する不安定なテストがより多くのコストを必要とする
- コストが高くなると、自動テストによって開発体験が著しく低下するという本末転倒な悪影響が生じる

## テストピラミッド型

![](/images/frontend-test-summary/test-pyramid.png)

- 下層のテストが多いモデル
- 安定した費用対効果の高いテスト戦略になる

## テスティングトロフィー型

![](/images/frontend-test-summary/testing-trophy.png)

- 「TestingLibrary」の開発者、KentC.Dodds.氏が提唱するテスト戦略モデル
- 最も比重を置くべきなのは**結合テスト**であるという主旨

フロントエンドが提供する機能は、ユーザー操作（インタラクション）を起点に提供される。
そのため、ユーザー操作を起点とした結合テストを充実させることこそが、より良いテスト戦略になるという意図がある。
