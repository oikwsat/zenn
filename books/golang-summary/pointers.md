---
title: "ポインター"
---

- ポインタは値のメモリアドレスを指す
- 変数 `T` のポインタは、`*T` 型で、ゼロ値は `nil`

## ポインタの宣言

- ポインタ変数には `*` を付けて宣言する

```go
var x ptr *int
```

## ポインタの初期化

- `&` 演算子を使用して、既存の変数のメモリアドレスを取得する
- `ptr` は `x` のメモリアドレスを指す

```go
x := 42
ptr := &x
```

## ポインタの参照

- ポインタの参照は `*` 演算子を使用する

```go
x := 42
ptr := &x
value := *p // ポインタpを通してxから値を読み出す
*p = 21 // ポインタpを通してxへ値を代入する
```

## ポインタのゼロ値

- ポインタのゼロ値は `nil`
- つまり、何も指していないことを示す
- ポインタを使用する前に、`nil` チェックを行うことが重要

## ポインタ変数のサイズ

- 32 ビットシステムでは 4 バイト（32 ビット）
- 64 ビットシステムでは 8 バイト（64 ビット）

## ダブルポインタ

- ポインタのポインタ
- ポインタのアドレスを指すポインタ
- `var ptr **int` のように、`*` を 2 つ使って宣言する
- ダブルポインタを通じて、ポインタが指す値や、その値が指す実際のデータにアクセスできる

```go
a := 100
var ptr *int = &a
var dptr **int = &ptr

fmt.Println("aの値:", a)
fmt.Println("ptrの値:", ptr)
fmt.Println("ptrが指す値:", *ptr)
fmt.Println("dptrの値:", dptr)
fmt.Println("dptrが指す値:", *dptr)
fmt.Println("dptrが指す値の値:", **dptr)

// aの値: 100
// ptrの値: 0x1400001a108
// ptrが指す値: 100
// dptrの値: 0x1400000e028
// dptrが指す値: 0x1400001a108
// dptrが指す値の値: 100
```
