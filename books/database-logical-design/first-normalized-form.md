---
title: "正規化"
---

- データの整合性と効率性を向上させるための手法
- データベース内のテーブルを効果的に構造化し、データの重複や不整合を最小限に抑える
- 正規化により、データベースの管理と操作が容易になり、データの信頼性が向上する
- 正規化されたものは**正規形**と呼ぶ

## 目的

- データの**一貫性**と**整合性**を維持する
- 重複データを排除する
- データの効率的な検索と更新を可能にする
- データの柔軟性を向上させる

## 正規化の手法

![](https://storage.googleapis.com/zenn-user-upload/3908552a2b66-20230909.png)

- 正規化のステップとしては、第 1 正規化、第 2 正規化、第３正規化、....
- 段階を踏んでいく毎に細分化されていく
- 基本的には第３正規化までやる

## 関数従属性

- ある属性 X を決めると、他の属性 Y の値が一意に決まる場合、「Y は X に関数従属している」
- X -> Y と表現する
- X を**決定項**、Y を**被決定項**と呼ぶ

![](https://storage.googleapis.com/zenn-user-upload/966c236385ed-20230909.jpg)

次の例のように決定項や被決定項が複数の属性の組合せになる場合もある。

![](https://storage.googleapis.com/zenn-user-upload/88ee09a85380-20230909.jpg)

## 部分関数従属

以下のように候補キーの一部に関数従属している状態を「部分関数従属している」という。

![](https://storage.googleapis.com/zenn-user-upload/792178ab9f39-20230909.png)

## 完全関数従属

- 完全関数従属性は、属性が他の属性に関数的に従属しており、その属性が複合キーの一部でない場合に関連します。
- つまり、特定の属性が他の属性に関数的に従属し、その属性が他の属性集合全体に従属しているということです。
- 例えば、社員番号と部署コードから社員の名前が特定でき、かつ社員番号や部署コード単独では名前を特定できない場合、社員番号と部署コードは名前に完全関数的に従属しています。

## 推移的関数従属

A が B に関数的に従属し、B が C に関数的に従属する場合、A が C に対して推移的関数従属していると言いう。

![](https://storage.googleapis.com/zenn-user-upload/403df4d9525e-20230909.png)

## 非正規形

以下の伝票票を元に、正規化を行う。

![](https://storage.googleapis.com/zenn-user-upload/7a7702681253-20230909.png)

この受注伝票 1 枚が 1 件のレコードに相当するとし、並べてみる。

![](https://storage.googleapis.com/zenn-user-upload/956242a2d8a8-20230909.png)

上記のように、1 行の中に複数の繰り返し項目が存在するような表は**非正規形**と呼ぶ。
これでは、各レコードの長さがバラバラで、綺麗な 2 次元の表になってない。
リレーショナルデータベースでは、レコードとしてデータを追加していく操作には適しているが、横方向へ増える非正規形の表は管理することができないため、正規化をしていく必要がある。

## 第 1 正規形
