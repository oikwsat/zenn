---
title: "ステートレスプロトコル"
---

## ステートレスプロトコルとは

HTTP リクエスト・HTTP レスポンスは、その前後に行われる HTTP 接続の**状態（ステート）**を管理・維持しない。

![](https://storage.googleapis.com/zenn-user-upload/7acd9f20b2e8-20230811.png)

このように、お互いの状態を管理しないプロトコルを**ステートレスプロトコル**、逆に、状態を管理できるプロトコルを**ステートフルプロトコル**と呼ぶ。

仮に HTTP がステートフルプロトコルの場合、最初にリクエストを送信したサーバとの接続状態は維持されたままになる。
そのため、サーバを増設してそのサーバに処理を分散させることも難しくなる。

しかし、ステートレスプロトコルであれば、1 回 1 回のリクエスト・レスポンスが短いため、すぐに他のサーバに切り替えることができる。
これにより、**スケールアウト**も容易に行うことが可能。

![](https://storage.googleapis.com/zenn-user-upload/881793d9973c-20230811.png)

## ステートレス性を補う技術

HTTP はステートレス性であるにも関わらず、Web サイトのログイン状態が維持されていたり、ショッピングサイトでカートに入れた商品が会計まで保存されているなど、**状態（ステート）**を維持しているように思える。

何故このようなことが可能なのか？

それは、**クッキー（HTTP Cookie）**や**セッション変数**などの技術によって、HTTP のステートレス性を補っているためである。

## クッキー（HTTP Cookie）

Web サーバから Web ブラウザに送信される極めて小さなデータ。
ブラウザではクッキーを保存しておき、再度同じ Web サーバにリクエストを送信する際に、保存しておいたクッキーを一緒に送信する。
Web サーバはクッキーが以前送信したものと同じかどうかを確認し、同じものであれば以前アクセスした Web ブラウザと判断する。
